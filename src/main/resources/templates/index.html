<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="/css/bootstrap.css" th:href="@{/css/bootstrap.css}">
  <script src="/js/jquery-3.6.1.js" th:src="@{/js/jquery-3.6.1.js}"></script>
  <script src="/js/bootstrap.bundle.js" th:src="@{/js/bootstrap.bundle.js}"></script>
</head>
<body>
<h1>Restful 방식 웹페이지 만들기</h1>
<h2>인터페이스 구현</h2>

<div id="map" style="width:100%; height: 100vh;"></div>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAfbiB23wXLqaqgI4XV3CPYW0bI2ciduMY&callback=initMap&region=kr"></script>
<script>

  var map;

  function initMap() {
    var xhr = new XMLHttpRequest(); //XMLHttpRequest 객체 생성

    xhr.onreadystatechange = function () {
      if (xhr.readyState === XMLHttpRequest.DONE) {
        if (xhr.status === 200) { //200은 에러가 없다는 뜻
          console.log("연결 성공");
          /*연결이 성공 되었다면 받아온 데이터 처리 */

          console.log(xhr.response)
        } else {
          console.log("연결 실패");
        }
      }
    }
    //요청을 보낼 방식, 주소, 비동기 여부 설정
    xhr.open("GET", "http://localhost:8080/ermctInsttInfoInqireService", true);
    //요청 전송
    xhr.send();


    var seoul = { lat: 37.5642135 ,lng: 127.0016985 };
    map = new google.maps.Map( document.getElementById('map'), {
      zoom: 12,
      center: seoul
    });

    new google.maps.Marker({
      position: seoul,
      map: map,
      label: "서울 중심 좌표"
    });
  }


</script>

</body>
</html>



